FROM openjdk:17.0.2

#CARPETA DE TRABAJO SE LLAMA APP/MSVC-USUARIOS
WORKDIR /app/msvc-usuarios

#COPIAR POM.XML A LA CARPETA APP
COPY ./pom.xml /app

#COPIAR
COPY ./msvc-usuarios .

#EXPONE EL PUERTO A UTILIZAR
EXPOSE 8001

#COMANDO PARA EMPAQUETAR JAR
#RUN .\mvnw.cmd clean package -DskipTests
RUN mvn clean package -DskipTests

#EJECUTAR UN COMANDO PARA CORRER EL MICROSERVICIO ESTO NO ES PARTE DE LA IMAGEN SI NO SE EJECUTA CUNSO SE CORRE LA IMAGEN
ENTRYPOINT ["java", "-jar", "./target/msvc-usuarios-0.0.1-SNAPSHOT.jar"]